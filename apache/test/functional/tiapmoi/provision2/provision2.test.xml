<?xml version="1.0" encoding="utf-8"?>
<project name="tiapmoi.provision2" default="usage">
  <description>
    functional tiapmoi provision2 tests.

    @testlogic.group  type="working" values="true"
    @testlogic.group type="install"  values="restricted,compact,full"
    @testlogic.group type="winFIPS" values="false"

  </description>

  <!-- ADDED-BY-SEED Absolute path to this file -->
  <dirname property="tiapmoi.provision2.dir" file="${ant.file.tiapmoi.provision2}" />

  <!-- ADDED-BY-SEED Import base file -->
  <import file="${tiapmoi.provision2.dir}/../tiapmoi-test-base.xml" />

  <!-- =================================================== -->
  <!-- prepare -->
  <!-- =================================================== -->

  <target name="prepare" >
  <description>
     Remove any old logfiles lingering in T_WORK
  </description>
    <firsttimeonly>
     <delete>
        <fileset dir="${twork.dir}" includes="tiapmoi_provision2*"/>
     </delete>
    </firsttimeonly>
  </target>

  <!-- =================================================== -->
  <!-- unprepare -->
  <!-- =================================================== -->
  <target name="unprepare" >
  <description>
     Recreate the ohs1 instance as it is expected by other tests
  </description>
     <antcall target="createOHS">
        <param name="out.log" value="tiapmoi_provision2_unprepare.log"/>
        <param name="ohs.name" value="ohs1"/>
     </antcall>
  </target>

  <!-- =================================================== -->
  <!-- suite -->
  <!-- =================================================== -->

  <target name="suite">
    <description>
       Basic provision2 tests:
       Create/start/stop/remove three OHS instances.  Verify all filesets
    </description>
    <sequential>
   
    <!-- Create three instances -->
    <antcall target="crt"/>
 
    <!-- Verify state on all three is SHUTDOWN -->
    <antcall target="crtState"/>
 
    <!-- Verify creation of OHS configuration files -->
    <antcall target="crtConf"/>
    <antcall target="crtInst"/>

    <!-- Verify no pids are running -->
    <antcall target="crtPids"/>

    <!-- Start all and configure the instances -->
    <antcall target="start"/>

    <!-- Verify state is RUNNING on all three -->
    <antcall target="startState"/>

    <!-- Verify appropriate number of pids -->
    <antcall target="startPids"/>

    <!-- Check that logfiles & state info are created -->
    <antcall target="startLogs"/>
    <antcall target="startNM"/>
 
    <!-- ping OHS on all three -->
    <antcall target="ping"/>
    <antcall target="pingSSL"/>
   
    <!-- Stop all -->
    <antcall target="stop"/>

    <!-- Verify state is SHUTDOWN -->
    <antcall target="stopState"/>

    <!-- Verify no pids are running -->
    <antcall target="stopPids"/>

    <!-- Delete all instances -->
    <antcall target="del"/>

    <!-- Verify deletion of OHS config files, logs & state info -->
    <antcall target="delComplete"/>

    </sequential>
  </target>

  <!-- =================================================== -->
  <target name="crt">
  <description>
     Create the instances
  </description>

    <antcall target="createOHS">
      <param name="out.log"  value="tiapmoi_provision2_crt1.out"/>
      <param name="ohs.name" value="ohs1"/>
    </antcall>
    <antcall target="wlstErrorScan">
      <param name="in.file" value="tiapmoi_provision2_crt1.out"/>
      <param name="out.file" value="tiapmoi_provision2_crt1.log"/>
    </antcall>

    <antcall target="createOHS">
      <param name="out.log"  value="tiapmoi_provision2_crt2.out"/>
      <param name="ohs.name" value="ohs2"/>
    </antcall>
    <antcall target="wlstErrorScan">
      <param name="in.file" value="tiapmoi_provision2_crt2.out"/>
      <param name="out.file" value="tiapmoi_provision2_crt2.log"/>
    </antcall>

    <antcall target="createOHS">
      <param name="out.log"  value="tiapmoi_provision2_crt3.out"/>
      <param name="ohs.name" value="ohs3"/>
    </antcall>
    <antcall target="wlstErrorScan">
      <param name="in.file" value="tiapmoi_provision2_crt3.out"/>
      <param name="out.file" value="tiapmoi_provision2_crt3.log"/>
    </antcall>
  </target>


  <!-- =================================================== -->
  <target name="crtState">
  <description>
     Verify state = SHUTDOWN
  </description>
    <antcall target="chkState">
      <param name="ohsName" value="ohs1"/>
      <param name="expected" value="SHUTDOWN"/>
      <param name="outfile" value="tiapmoi_provision2_crtState1.log"/>
    </antcall>

    <antcall target="chkState">
      <param name="ohsName" value="ohs2"/>
      <param name="expected" value="SHUTDOWN"/>
      <param name="outfile" value="tiapmoi_provision2_crtState2.log"/>
    </antcall>

    <antcall target="chkState">
      <param name="ohsName" value="ohs3"/>
      <param name="expected" value="SHUTDOWN"/>
      <param name="outfile" value="tiapmoi_provision2_crtState3.log"/>
    </antcall>

  </target>

  <!-- =================================================== -->
  <target name="crtConf">
  <description>
     Verify all master OHS config files are created successfully.
  </description>

    <property name="tstName"  value="tiapmoi_provision2_crtConf"/>
    <property name="goldfile" value="${tstName}.gold"/>
    <copy file="${gold.path}/oi.crt.conf.gold" 
         tofile="${twork.dir}/${goldfile}"/>

    <antcall target="scanDir">
      <param name="action" value="oi_conf"/>
      <param name="ohsName" value="ohs1"/>
      <param name="outfile" value="tiapmoi_provision2_crtConf1.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile}"/>
      <param name="testfile" value="tiapmoi_provision2_crtConf1.out"/>
      <param name="outfile" value="tiapmoi_provision2_crtConf1.log"/>
    </antcall>

    <antcall target="scanDir">
      <param name="action" value="oi_conf"/>
      <param name="ohsName" value="ohs2"/>
      <param name="outfile" value="tiapmoi_provision2_crtConf2.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile}"/>
      <param name="testfile" value="tiapmoi_provision2_crtConf2.out"/>
      <param name="outfile" value="tiapmoi_provision2_crtConf2.log"/>
    </antcall>

    <antcall target="scanDir">
      <param name="action" value="oi_conf"/>
      <param name="ohsName" value="ohs3"/>
      <param name="outfile" value="tiapmoi_provision2_crtConf3.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile}"/>
      <param name="testfile" value="tiapmoi_provision2_crtConf3.out"/>
      <param name="outfile" value="tiapmoi_provision2_crtConf3.log"/>
    </antcall>
  </target>

  <!-- =================================================== -->
  <target name="crtInst">
  <description>
     Verify all runtime OHS config files are created successfully.
  </description>

    <property name="tstName"  value="tiapmoi_provision2_crtInst"/>
    <property name="goldfile" value="${tstName}.gold"/>
    <copy file="${gold.path}/oi.crt.inst.gold" 
         tofile="${twork.dir}/${goldfile}"/>

    <antcall target="scanDir">
      <param name="action" value="oi_inst"/>
      <param name="ohsName" value="ohs1"/>
      <param name="outfile" value="tiapmoi_provision2_crtInst1.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile}"/>
      <param name="testfile" value="tiapmoi_provision2_crtInst1.out"/>
      <param name="outfile" value="tiapmoi_provision2_crtInst1.log"/>
    </antcall>

    <antcall target="scanDir">
      <param name="action" value="oi_inst"/>
      <param name="ohsName" value="ohs2"/>
      <param name="outfile" value="tiapmoi_provision2_crtInst2.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile}"/>
      <param name="testfile" value="tiapmoi_provision2_crtInst2.out"/>
      <param name="outfile" value="tiapmoi_provision2_crtInst2.log"/>
    </antcall>

    <antcall target="scanDir">
      <param name="action" value="oi_inst"/>
      <param name="ohsName" value="ohs3"/>
      <param name="outfile" value="tiapmoi_provision2_crtInst3.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile}"/>
      <param name="testfile" value="tiapmoi_provision2_crtInst3.out"/>
      <param name="outfile" value="tiapmoi_provision2_crtInst3.log"/>
    </antcall>

  </target>

  <!-- =================================================== -->
  <target name="crtPids">
  <description>
     Verify no pids are running currently.
  </description>
    <antcall target="chkPids">
      <param name="pidName" value="httpd"/>
      <param name="expected" value="0"/>
      <param name="outfile" value="tiapmoi_provision2_crtPids1.log"/>
      <param name="ohsName" value="ohs1"/>
    </antcall>
    <antcall target="chkPids">
      <param name="pidName" value="httpd"/>
      <param name="expected" value="0"/>
      <param name="outfile" value="tiapmoi_provision2_crtPids2.log"/>
      <param name="ohsName" value="ohs2"/>
    </antcall>
    <antcall target="chkPids">
      <param name="pidName" value="httpd"/>
      <param name="expected" value="0"/>
      <param name="outfile" value="tiapmoi_provision2_crtPids3.log"/>
      <param name="ohsName" value="ohs3"/>
    </antcall>

  </target>

  <!-- =================================================== -->
  <target name="start">
  <description>
     Configure ohs1 and start it
  </description>

     <!-- Copy hello world to htdocs -->
     <property name="htdocsDir1" value="${ohsConfDir}/instances/ohs1/htdocs"/>
     <copy file="${tiapmoi.base.dir}/common/tiapmoi.html"
           todir="${htdocsDir1}" />

     <property name="htdocsDir2" value="${ohsConfDir}/instances/ohs2/htdocs"/>
     <copy file="${tiapmoi.base.dir}/common/tiapmoi.html"
           todir="${htdocsDir2}" />

     <property name="htdocsDir3" value="${ohsConfDir}/instances/ohs3/htdocs"/>
     <copy file="${tiapmoi.base.dir}/common/tiapmoi.html"
           todir="${htdocsDir3}" />

     <!-- Setup smoke for SSL -->
     <antcall target="configureSSL">
        <param name="ohs.name" value="ohs1"/>
        <param name="out.log" value="tiapmoi_provision2_configureSSL1.log"/>
     </antcall>

     <antcall target="configureSSL">
        <param name="ohs.name" value="ohs2"/>
        <param name="out.log" value="tiapmoi_provision2_configureSSL2.log"/>
     </antcall>

     <antcall target="configureSSL">
        <param name="ohs.name" value="ohs3"/>
        <param name="out.log" value="tiapmoi_provision2_configureSSL3.log"/>
     </antcall>

     <!-- Perform the start command -->
     <antcall target="startOHS">
        <param name="out.log"  value="tiapmoi_provision2_start1.out"/>
        <param name="ohs.name" value="ohs1"/>
     </antcall>
     <antcall target="wlstErrorScan">
       <param name="in.file" value="tiapmoi_provision2_start1.out"/>
       <param name="out.file" value="tiapmoi_provision2_start1.log"/>
     </antcall>

     <antcall target="startOHS">
        <param name="out.log"  value="tiapmoi_provision2_start2.out"/>
        <param name="ohs.name" value="ohs2"/>
     </antcall>
     <antcall target="wlstErrorScan">
       <param name="in.file" value="tiapmoi_provision2_start2.out"/>
       <param name="out.file" value="tiapmoi_provision2_start2.log"/>
     </antcall>

     <antcall target="startOHS">
        <param name="out.log"  value="tiapmoi_provision2_start3.out"/>
        <param name="ohs.name" value="ohs3"/>
     </antcall>
     <antcall target="wlstErrorScan">
       <param name="in.file" value="tiapmoi_provision2_start3.out"/>
       <param name="out.file" value="tiapmoi_provision2_start3.log"/>
     </antcall>

  </target>

  <!-- =================================================== -->
  <target name="startState">
  <description>
     Verify state = RUNNING
  </description>
    <antcall target="chkState">
      <param name="ohsName" value="ohs1"/>
      <param name="expected" value="RUNNING"/>
      <param name="outfile" value="tiapmoi_provision2_startState1.log"/>
    </antcall>

    <antcall target="chkState">
      <param name="ohsName" value="ohs2"/>
      <param name="expected" value="RUNNING"/>
      <param name="outfile" value="tiapmoi_provision2_startState2.log"/>
    </antcall>

    <antcall target="chkState">
      <param name="ohsName" value="ohs3"/>
      <param name="expected" value="RUNNING"/>
      <param name="outfile" value="tiapmoi_provision2_startState3.log"/>
    </antcall>

  </target>

  <!-- =================================================== -->
  <target name="startLogs">
  <description>
     Verify logs have been created
  </description>

    <property name="tstName"  value="tiapmoi_provision2_startLogs"/>
    <property name="goldfile1" value="${tstName}1.gold"/>
    <property name="goldfile2" value="${tstName}2.gold"/>
    <property name="goldfile3" value="${tstName}3.gold"/>
    <copy file="${gold.path}/oi.crt.logs.gold" 
         tofile="${twork.dir}/${goldfile1}"/>
    <copy file="${gold.path}/oi.crt.logs.gold"
         tofile="${twork.dir}/${goldfile2}"/>
    <copy file="${gold.path}/oi.crt.logs.gold"
         tofile="${twork.dir}/${goldfile3}"/>

    <!-- Instantiate the files -->
    <replaceregexp file="${twork.dir}/${goldfile1}"
           match="%OHS_NAME%" replace="ohs1" byline="true" />
    <replaceregexp file="${twork.dir}/${goldfile2}"
           match="%OHS_NAME%" replace="ohs2" byline="true" />
    <replaceregexp file="${twork.dir}/${goldfile3}"
           match="%OHS_NAME%" replace="ohs3" byline="true" />

    <antcall target="scanDir">
      <param name="action" value="oi_logs"/>
      <param name="ohsName" value="ohs1"/>
      <param name="outfile" value="tiapmoi_provision2_startLogs1.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile1}"/>
      <param name="testfile" value="tiapmoi_provision2_startLogs1.out"/>
      <param name="outfile" value="tiapmoi_provision2_startLogs1.log"/>
    </antcall>

    <antcall target="scanDir">
      <param name="action" value="oi_logs"/>
      <param name="ohsName" value="ohs2"/>
      <param name="outfile" value="tiapmoi_provision2_startLogs2.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile2}"/>
      <param name="testfile" value="tiapmoi_provision2_startLogs2.out"/>
      <param name="outfile" value="tiapmoi_provision2_startLogs2.log"/>
    </antcall>

    <antcall target="scanDir">
      <param name="action" value="oi_logs"/>
      <param name="ohsName" value="ohs3"/>
      <param name="outfile" value="tiapmoi_provision2_startLogs3.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile3}"/>
      <param name="testfile" value="tiapmoi_provision2_startLogs3.out"/>
      <param name="outfile" value="tiapmoi_provision2_startLogs3.log"/>
    </antcall>

  </target>

  <!-- =================================================== -->
  <target name="startNM">
  <description>
     Verify ohs1 state information has been created
  </description>

    <property name="tstName"  value="tiapmoi_provision2_startNM"/>
    <property name="goldfile" value="${tstName}.gold"/>
    <copy file="${gold.path}/oi.crt.syst.gold" 
         tofile="${twork.dir}/${goldfile}"/>

    <antcall target="scanDir">
      <param name="action" value="oi_syst"/>
      <param name="ohsName" value="ohs1"/>
      <param name="outfile" value="tiapmoi_provision2_startNM1.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile}"/>
      <param name="testfile" value="tiapmoi_provision2_startNM1.out"/>
      <param name="outfile" value="tiapmoi_provision2_startNM1.log"/>
    </antcall>

    <antcall target="scanDir">
      <param name="action" value="oi_syst"/>
      <param name="ohsName" value="ohs2"/>
      <param name="outfile" value="tiapmoi_provision2_startNM2.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile}"/>
      <param name="testfile" value="tiapmoi_provision2_startNM2.out"/>
      <param name="outfile" value="tiapmoi_provision2_startNM2.log"/>
    </antcall>

    <antcall target="scanDir">
      <param name="action" value="oi_syst"/>
      <param name="ohsName" value="ohs3"/>
      <param name="outfile" value="tiapmoi_provision2_startNM3.out"/>
    </antcall>
    <antcall target="compareFiles">
      <param name="goldfile" value="${goldfile}"/>
      <param name="testfile" value="tiapmoi_provision2_startNM3.out"/>
      <param name="outfile" value="tiapmoi_provision2_startNM3.log"/>
    </antcall>

  </target>

  <!-- =================================================== -->
  <target name="startPids">
  <description>
     Verify appropriate number of pids are started
  </description>

    <!-- Set max number of pids - will be different by platform -->
    <if>
     <isset property="isWindows"/>
     <then>
       <property name="pidMax" value="2"/>
     </then>
     <else>
       <property name="pidMax" value="5"/>
     </else>
    </if>

    <antcall target="chkPids">
      <param name="pidName" value="httpd"/>
      <param name="expected" value="${pidMax}"/>
      <param name="outfile" value="tiapmoi_provision2_startPids1.log"/>
      <param name="ohsName" value="ohs1"/>
    </antcall>
    <antcall target="chkPids">
      <param name="pidName" value="httpd"/>
      <param name="expected" value="${pidMax}"/>
      <param name="outfile" value="tiapmoi_provision2_startPids2.log"/>
      <param name="ohsName" value="ohs2"/>
    </antcall>
    <antcall target="chkPids">
      <param name="pidName" value="httpd"/>
      <param name="expected" value="${pidMax}"/>
      <param name="outfile" value="tiapmoi_provision2_startPids3.log"/>
      <param name="ohsName" value="ohs3"/>
    </antcall>

  </target>

  <!-- =================================================== -->
  <target name="ping">
  <description>
     http ping
  </description>

    <antcall target="pingOHS">
        <param name="out.log"  value="tiapmoi_provision2_ping1.log"/>
        <param name="ohs.name" value="ohs1"/>
        <param name="url"      value="/tiapmoi.html"/>
     </antcall>

    <antcall target="pingOHS">
        <param name="out.log"  value="tiapmoi_provision2_ping2.log"/>
        <param name="ohs.name" value="ohs2"/>
        <param name="url"      value="/tiapmoi.html"/>
     </antcall>

    <antcall target="pingOHS">
        <param name="out.log"  value="tiapmoi_provision2_ping3.log"/>
        <param name="ohs.name" value="ohs3"/>
        <param name="url"      value="/tiapmoi.html"/>
     </antcall>


  </target>

  <!-- =================================================== -->
  <target name="pingSSL">
  <description>
     https ping
  </description>
    <antcall target="pingOHS_ssl">
        <param name="out.log"  value="tiapmoi_provision2_pingSSL1.log"/>
        <param name="ohs.name" value="ohs1"/>
        <param name="url"      value="/tiapmoi.html"/>
     </antcall>

    <antcall target="pingOHS_ssl">
        <param name="out.log"  value="tiapmoi_provision2_pingSSL2.log"/>
        <param name="ohs.name" value="ohs2"/>
        <param name="url"      value="/tiapmoi.html"/>
     </antcall>

    <antcall target="pingOHS_ssl">
        <param name="out.log"  value="tiapmoi_provision2_pingSSL3.log"/>
        <param name="ohs.name" value="ohs3"/>
        <param name="url"      value="/tiapmoi.html"/>
     </antcall>
  </target>

  <!-- =================================================== -->
  <target name="stop">
  <description>
     Stop the instances
  </description>

     <antcall target="stopOHS">
        <param name="out.log"  value="tiapmoi_provision2_stop1.out"/>
        <param name="ohs.name" value="ohs1"/>
     </antcall>
      <antcall target="wlstErrorScan">
        <param name="in.file" value="tiapmoi_provision2_stop1.out"/>
        <param name="out.file" value="tiapmoi_provision2_stop1.log"/>
      </antcall>

     <antcall target="stopOHS">
        <param name="out.log"  value="tiapmoi_provision2_stop2.out"/>
        <param name="ohs.name" value="ohs2"/>
     </antcall>
      <antcall target="wlstErrorScan">
        <param name="in.file" value="tiapmoi_provision2_stop2.out"/>
        <param name="out.file" value="tiapmoi_provision2_stop2.log"/>
      </antcall>

     <antcall target="stopOHS">
        <param name="out.log"  value="tiapmoi_provision2_stop3.out"/>
        <param name="ohs.name" value="ohs3"/>
     </antcall>
      <antcall target="wlstErrorScan">
        <param name="in.file" value="tiapmoi_provision2_stop3.out"/>
        <param name="out.file" value="tiapmoi_provision2_stop3.log"/>
      </antcall>

  </target>

  <!-- =================================================== -->
  <target name="stopState">
  <description>
     Verify state = SHUTDOWN
  </description>
    <antcall target="chkState">
      <param name="ohsName" value="ohs1"/>
      <param name="expected" value="SHUTDOWN"/>
      <param name="outfile" value="tiapmoi_provision2_stopState1.log"/>
    </antcall>

    <antcall target="chkState">
      <param name="ohsName" value="ohs2"/>
      <param name="expected" value="SHUTDOWN"/>
      <param name="outfile" value="tiapmoi_provision2_stopState2.log"/>
    </antcall>

    <antcall target="chkState">
      <param name="ohsName" value="ohs3"/>
      <param name="expected" value="SHUTDOWN"/>
      <param name="outfile" value="tiapmoi_provision2_stopState3.log"/>
    </antcall>

  </target>

  <!-- =================================================== -->
  <target name="stopPids">
  <description>
     Verify no pids are running after stop
  </description>
   <antcall target="chkPids">
      <param name="pidName" value="httpd"/>
      <param name="expected" value="0"/>
      <param name="outfile" value="tiapmoi_provision2_stopPids1.log"/>
      <param name="ohsName" value="ohs1"/>
   </antcall>
   <antcall target="chkPids">
      <param name="pidName" value="httpd"/>
      <param name="expected" value="0"/>
      <param name="outfile" value="tiapmoi_provision2_stopPids2.log"/>
      <param name="ohsName" value="ohs2"/>
   </antcall>
   <antcall target="chkPids">
      <param name="pidName" value="httpd"/>
      <param name="expected" value="0"/>
      <param name="outfile" value="tiapmoi_provision2_stopPids3.log"/>
      <param name="ohsName" value="ohs3"/>
   </antcall>

  </target>

  <!-- =================================================== -->
  <target name="del">
  <description>
     Remove the ohs1 instance
  </description>

   <antcall target="deleteOHS">
      <param name="out.log"  value="tiapmoi_provision2_del1.out"/>
      <param name="ohs.name" value="ohs1"/>
   </antcall>
   <antcall target="wlstErrorScan">
     <param name="in.file" value="tiapmoi_provision2_del1.out"/>
     <param name="out.file" value="tiapmoi_provision2_del1.log"/>
   </antcall>

   <antcall target="deleteOHS">
      <param name="out.log"  value="tiapmoi_provision2_del2.out"/>
      <param name="ohs.name" value="ohs2"/>
   </antcall>
   <antcall target="wlstErrorScan">
     <param name="in.file" value="tiapmoi_provision2_del2.out"/>
     <param name="out.file" value="tiapmoi_provision2_del2.log"/>
   </antcall>

   <antcall target="deleteOHS">
      <param name="out.log"  value="tiapmoi_provision2_del3.out"/>
      <param name="ohs.name" value="ohs3"/>
   </antcall>
   <antcall target="wlstErrorScan">
     <param name="in.file" value="tiapmoi_provision2_del3.out"/>
     <param name="out.file" value="tiapmoi_provision2_del3.log"/>
   </antcall>

  </target>

  <!-- =================================================== -->
  <target name="delComplete">
  <description>
     Verify removal of OHS config files, logs, and state info
     Fail if any of the following directories exist.
  </description>
      
      <property name="ohsMaster1"  value="${ohsConfDir}/ohs1"/>
      <property name="ohsRuntime1" value="${ohsConfDir}/instances/ohs1"/>
      <property name="ohsLogs1"    value="${ohsLogDir}/ohs1"/>
      <property name="ohsNM1"      value="${nmLogDir}/ohs1"/>

      <assertTrue message="Directory ${ohsMaster1} still exists post-deletion">
        <not> <available file="${ohsMaster1}" type="dir"/> </not>
      </assertTrue>
      <assertTrue message="Directory ${ohsRuntime1} still exists post-deletion"> 
        <not> <available file="${ohsRuntime1}" type="dir"/> </not>
      </assertTrue>
      <assertTrue message="Directory ${ohsLogs1} still exists post-deletion">
        <not> <available file="${ohsLogs1}" type="dir"/> </not>
      </assertTrue>
      <assertTrue message="Directory ${ohsNM1} still exists post-deletion" >
        <not> <available file="${ohsNM1}" type="dir"/> </not>
      </assertTrue>

      <property name="ohsMaster2"  value="${ohsConfDir}/ohs2"/>
      <property name="ohsRuntime2" value="${ohsConfDir}/instances/ohs2"/>
      <property name="ohsLogs2"    value="${ohsLogDir}/ohs2"/>
      <property name="ohsNM2"      value="${nmLogDir}/ohs2"/>

      <assertTrue message="Directory ${ohsMaster2} still exists post-deletion">
        <not> <available file="${ohsMaster2}" type="dir"/> </not>
      </assertTrue>
      <assertTrue message="Directory ${ohsRuntime2} still exists post-deletion">
        <not> <available file="${ohsRuntime2}" type="dir"/> </not>
      </assertTrue>
      <assertTrue message="Directory ${ohsLogs2} still exists post-deletion">
        <not> <available file="${ohsLogs2}" type="dir"/> </not>
      </assertTrue>
      <assertTrue message="Directory ${ohsNM2} still exists post-deletion" >
        <not> <available file="${ohsNM2}" type="dir"/> </not>
      </assertTrue>

      <property name="ohsMaster3"  value="${ohsConfDir}/ohs3"/>
      <property name="ohsRuntime3" value="${ohsConfDir}/instances/ohs3"/>
      <property name="ohsLogs3"    value="${ohsLogDir}/ohs3"/>
      <property name="ohsNM3"      value="${nmLogDir}/ohs3"/>

      <assertTrue message="Directory ${ohsMaster3} still exists post-deletion">
        <not> <available file="${ohsMaster3}" type="dir"/> </not>
      </assertTrue>
      <assertTrue message="Directory ${ohsRuntime3} still exists post-deletion">
        <not> <available file="${ohsRuntime3}" type="dir"/> </not>
      </assertTrue>
      <assertTrue message="Directory ${ohsLogs3} still exists post-deletion">
        <not> <available file="${ohsLogs3}" type="dir"/> </not>
      </assertTrue>
      <assertTrue message="Directory ${ohsNM3} still exists post-deletion" >
        <not> <available file="${ohsNM3}" type="dir"/> </not>
      </assertTrue>

  </target>
  
</project>

 
